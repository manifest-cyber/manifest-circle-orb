description: >
  This command generate SBOM using Syft CLI
parameters:
  purl:
    type: string
    description: "purl to generate SBOM from"
  file:
    type: string
    description: "file path to write SBOM to"
steps:
  - run:
      shell: bash
      name: Generate SBOM
      command: |
        filename="${<<parameters.file>>:-cdx.json}" \
        syft <<parameters.purl>>  --config=syft.yaml --file="$filename"
